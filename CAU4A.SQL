CONN sys/123@//LOCALHOST:1523/ORCLDOCKER as sysdba; 
ALTER SESSION SET CURRENT_SCHEMA = QL_NHANSU ; 


CREATE ROLE QL_NHANSU_RL_NHANVIEN;
CREATE ROLE QL_NHANSU_RL_GIAMDOC;
CREATE ROLE QL_NHANSU_RL_TRUONGPHONG;
-- CAU A 
-- CAP QUYEN CHO GIAM DOC;
GRANT SELECT ON NHANVIEN TO QL_NHANSU_RL_GIAMDOC;
GRANT SELECT ON LUONG TO QL_NHANSU_RL_GIAMDOC ;
GRANT SELECT, INSERT, UPDATE, DELETE ON TONGHOP TO QL_NHANSU_RL_GIAMDOC;

CREATE OR REPLACE VIEW VW_TONGHOP_NAM
AS SELECT NAM FROM TONGHOP;
CREATE OR REPLACE VIEW VW_TONGHOP_THU
AS SELECT THU FROM TONGHOP;
CREATE OR REPLACE VIEW VW_TONGHOP_CHI
AS SELECT CHI FROM TONGHOP;

GRANT SELECT ON VW_TONGHOP_NAM TO QL_NHANSU_RL_GIAMDOC ; 
GRANT SELECT ON VW_TONGHOP_CHI TO QL_NHANSU_RL_GIAMDOC ;
GRANT SELECT ON VW_TONGHOP_THU TO QL_NHANSU_RL_GIAMDOC ;

-- GAN QUYEN CHO TRUONG PHONG

GRANT SELECT , UPDATE ,INSERT, DELETE ON NHANVIEN TO QL_NHANSU_RL_TRUONGPHONG;
GRANT SELECT , UPDATE, INSERT, DELETE ON LUONG TO QL_NHANSU_RL_TRUONGPHONG;

-- GAN QUYEN CHO NHAN VIEN
GRANT SELECT ON NHANVIEN TO QL_NHANSU_RL_NHANVIEN;

EXEC USP_CREATEUSER;
EXEC USP_ADDUSRMEM('QL_NHANSU_RL_GIAMDOC','GIÁM ĐỐC');
EXEC USP_ADDUSRMEM('QL_NHANSU_RL_TRUONGPHONG', 'TRƯỞNG PHÒNG');
EXEC USP_ADDUSRMEM('QL_NHANSU_RL_NHANVIEN','NHÂN VIÊN')